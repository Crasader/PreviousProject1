/// 麻将类

#ifndef __CARD_H__
#define __CARD_H__

#include "cocos2d.h"
USING_NS_CC;

// 卡牌朝向
enum CARD_DIR{ SOUTH, EAST, NORTH, WEST};
// 卡牌位置（在手上还是已经打出去）
enum CARD_POS{HAND, TABLE};
// 卡牌正面还是背面朝上
enum CARD_SIDE{UP, DOWN};

class Card : public Node
{
public :
	/// 创建麻将
	// @pos, side, content 麻将位置, 麻将正反，麻将牌面
	static Card* createCard(CARD_POS pos , CARD_DIR dir, CARD_SIDE side, int content);
	
	// 设置卡牌
	// @pos, side, content 麻将位置, 麻将正反，麻将牌面
	void setCard(CARD_POS pos, CARD_DIR dir, CARD_SIDE side, int content);
	void cardFadeIn(float delayTime, float fadeInTime, Vec2 playerPos);
	void Card::cardFadeIn(float fadeInTime, float moveTime, Vec2 playerPos, float scaleTo);

	// 得到牌面信息
	CC_SYNTHESIZE(int, type, _type);
private:
	CREATE_FUNC(Card);
	bool init();
	void setHandCard(CARD_DIR dir, CARD_SIDE side, int content);
	void setTableCard(CARD_DIR dir, CARD_SIDE side, int content);

	bool onCardTouchBegan(Touch *touch, Event *event);
};

#endif // end MahjongScene.h